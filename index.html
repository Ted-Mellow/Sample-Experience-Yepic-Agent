<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Yepic Agent — Strange Thoughts</title>
  <meta name="description" content="Branded landing page with an embedded Yepic agent." />

  <style>
    :root{
      --bg1:#7ecfda;
      --bg2:#7ecfda;
      --card:#7ef2f2;
      --stroke:#7ef2f2;
      --text:#dff6f9;
      --muted:#7ecfda;
      --accent:#00c8c8;
      --accent2:#7ef2f2;
      --shadow: 0 18px 60px rgba(0,0,0,.5);
      --radius: 22px;
      --max: 900px;
    }

    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
      color:var(--text);
      background:
        radial-gradient(ellipse 900px 500px at 15% 0%,  rgba(0,210,210,.22), transparent 65%),
        radial-gradient(ellipse 700px 400px at 85% 10%, rgba(32,200,220,.18), transparent 60%),
        radial-gradient(ellipse 600px 600px at 50% 80%, rgba(0,160,180,.14), transparent 70%),
        linear-gradient(175deg, var(--bg1) 0%, var(--bg2) 100%);
      min-height:100vh;
      overflow-x:hidden;
    }

    /* Home View */
    .home-view{
      display:flex;
      flex-direction:column;
      align-items:center;
      justify-content:center;
      min-height:100vh;
      padding:20px;
    }

    .home-content{
      max-width:500px;
      text-align:center;
    }

    .logo-large{
      width:80px;
      height:80px;
      margin:0 auto 24px;
      border-radius: 20px;
      border:1px solid rgba(0,210,210,.25);
      background: rgba(0,210,210,.06);
      box-shadow: 0 12px 32px rgba(0,0,0,.35), 0 0 24px rgba(0,200,200,.12);
      display:flex;
      align-items:center;
      justify-content:center;
      overflow:hidden;
    }

    .logo-large img{
      width:100%;
      height:100%;
      object-fit:cover;
      animation: floaty 5.2s ease-in-out infinite;
    }

    @keyframes floaty{
      0%,100%{ transform: translateY(0) scale(1.06); }
      50%{ transform: translateY(-2px) scale(1.06); }
    }

    .home-content h1{
      font-size:40px;
      margin:0 0 12px;
      letter-spacing:-0.02em;
      line-height:1.2;
    }

    .home-content p{
      font-size:16px;
      color:rgba(223,246,249,.85);
      margin:0 0 32px;
      line-height:1.6;
    }

    .start-call-btn{
      appearance:none;
      border:none;
      background: linear-gradient(180deg, rgba(0,200,200,.5), rgba(0,180,180,.3));
      color:var(--text);
      padding:16px 40px;
      border-radius:14px;
      font-weight:600;
      font-size:16px;
      cursor:pointer;
      transition:transform .12s ease, box-shadow .12s ease;
      box-shadow: 0 0 30px rgba(0,200,200,.2);
    }

    .start-call-btn:hover{
      transform:translateY(-2px);
      box-shadow: 0 0 40px rgba(0,200,200,.35);
    }

    .start-call-btn:active{
      transform:translateY(0);
    }

    /* Agent View */
    .agent-view{
      display:none;
      flex-direction:column;
      height:100vh;
      width:100%;
      position:fixed;
      top:0;
      left:0;
      background:
        radial-gradient(ellipse 900px 500px at 15% 0%,  rgba(0,210,210,.22), transparent 65%),
        radial-gradient(ellipse 700px 400px at 85% 10%, rgba(32,200,220,.18), transparent 60%),
        radial-gradient(ellipse 600px 600px at 50% 80%, rgba(0,160,180,.14), transparent 70%),
        linear-gradient(175deg, var(--bg1) 0%, var(--bg2) 100%);
      z-index:1000;
    }

    .agent-header{
      flex:0 0 auto;
      padding:14px 20px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      border-bottom:1px solid rgba(126,207,218,.3);
    }

    .agent-title{
      font-weight:600;
      font-size:15px;
      letter-spacing:0.2px;
    }

    .end-call-btn{
      appearance:none;
      border:1px solid rgba(0,210,210,.2);
      background: rgba(0,210,210,.07);
      color: var(--text);
      padding:8px 12px;
      border-radius: 10px;
      font-weight: 600;
      font-size: 12px;
      cursor:pointer;
      transition: transform .12s ease, background .12s ease, border-color .12s ease;
    }

    .end-call-btn:hover{
      transform: translateY(-1px);
      border-color: rgba(0,210,210,.45);
      background: rgba(0,210,210,.13);
    }

    .agent-container{
      flex:1 1 auto;
      display:flex;
      flex-direction:column;
      overflow:hidden;
      padding:16px;
    }

    .agent-card{
      flex:1 1 auto;
      border:1px solid var(--stroke);
      background: rgba(126,242,242,.08);
      border-radius: var(--radius);
      box-shadow: 0 18px 60px rgba(0,0,0,.5), 0 0 40px rgba(0,200,210,.06);
      overflow:hidden;
      display:flex;
      flex-direction:column;
    }

    .iframe-wrap{
      flex:1 1 auto;
      background: rgba(0,0,0,.3);
      display:flex;
    }

    iframe{
      width:100%;
      height:100%;
      border:0;
      display:block;
    }

    @media (max-width: 600px){
      .home-content h1{
        font-size:32px;
      }
      .home-content p{
        font-size:14px;
      }
    }
  </style>
</head>

<body>
  <!-- Home View -->
  <div class="home-view" id="homeView">
    <div class="home-content">
      <div class="logo-large">
        <img src="STHead.png" alt="Strange Thoughts" />
      </div>
      <h1>Welcome to Sample Experience, presented by Strange Thoughts</h1>
      <p>Meet our AI brand ambassador.</p>
      <button class="start-call-btn" id="startCallBtn">Start Call</button>
    </div>
  </div>

  <!-- Agent View -->
  <div class="agent-view" id="agentView">
    <div class="agent-header">
      <div class="agent-title">Strange Thoughts — Live Agent</div>
      <button class="end-call-btn" id="endCallBtn">End Call</button>
    </div>
    <div class="agent-container">
      <div class="agent-card">
        <div class="iframe-wrap">
          <iframe
            id="yepicFrame"
            title="Yepic Agent"
            src='https://embed.yepic.ai/embed/6995b86542b61f65ffd25a43?key=eafaae7a006e7994314b234818627093&type=embed&autostart=true'
            allow="camera; microphone; autoplay; clipboard-read; clipboard-write"
            referrerpolicy="no-referrer-when-downgrade"
          ></iframe>
        </div>
      </div>
    </div>
  </div>

  <script>
    const homeView = document.getElementById('homeView');
    const agentView = document.getElementById('agentView');
    const startCallBtn = document.getElementById('startCallBtn');
    const endCallBtn = document.getElementById('endCallBtn');
    const frame = document.getElementById('yepicFrame');

    function autoClickStartButton() {
      try {
        const doc = frame.contentWindow.document;
        const buttons = doc.querySelectorAll('button');

        for (const btn of buttons) {
          const text = btn.textContent.toLowerCase();
          if (text.includes('Start') || text.includes('call') || text.includes('begin') || text.includes('join')) {
            btn.click();
            return true;
          }
        }
      } catch (e) {
        // Cross-origin or frame not ready
      }
      return false;
    }

    function endTheCall() {
      try {
        const doc = frame.contentWindow.document;
        const buttons = doc.querySelectorAll('button');

        for (const btn of buttons) {
          const text = btn.textContent.toLowerCase();
          if (text.includes('end') || text.includes('hang') || text.includes('disconnect') || text.includes('close')) {
            btn.click();
            return true;
          }
        }
      } catch (e) {
        // Cross-origin or frame not ready
      }

      // Reload iframe to reset it
      const src = frame.src;
      frame.src = '';
      frame.src = src;
      return false;
    }

    startCallBtn.addEventListener('click', () => {
      homeView.style.display = 'none';
      agentView.style.display = 'flex';
      // Try to auto-click with delays to ensure iframe is ready
      setTimeout(autoClickStartButton, 100);
      setTimeout(autoClickStartButton, 500);
      setTimeout(autoClickStartButton, 1200);
    });

    endCallBtn.addEventListener('click', () => {
      endTheCall();
      agentView.style.display = 'none';
      homeView.style.display = 'flex';
    });

    // Also try when iframe finishes loading
    frame.addEventListener('load', () => {
      setTimeout(autoClickStartButton, 300);
    });
  </script>
</body>
</html>
